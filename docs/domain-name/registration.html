<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Registration - Solana Name Service Guide</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../deployment.html"><strong aria-hidden="true">2.</strong> Deployment</a></li><li class="chapter-item expanded "><a href="../sns-ip/index.html"><strong aria-hidden="true">3.</strong> SNS IP</a></li><li class="chapter-item expanded "><a href="../videos.html"><strong aria-hidden="true">4.</strong> Videos</a></li><li class="chapter-item expanded "><a href="../installation.html"><strong aria-hidden="true">5.</strong> SNS Library</a></li><li class="chapter-item expanded "><a href="../siwsns/index.html"><strong aria-hidden="true">6.</strong> SIWSNS</a></li><li class="chapter-item expanded "><a href="../faq.html"><strong aria-hidden="true">7.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../registry.html"><strong aria-hidden="true">8.</strong> Name Registry</a></li><li class="chapter-item expanded "><a href="../domain-name/wallet-guide/index.html"><strong aria-hidden="true">9.</strong> Wallet Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../domain-name/wallet-guide/resolving-domains.html"><strong aria-hidden="true">9.1.</strong> Resolving Domains</a></li><li class="chapter-item expanded "><a href="../domain-name/wallet-guide/bridged-domains.html"><strong aria-hidden="true">9.2.</strong> Bridged Domains</a></li><li class="chapter-item expanded "><a href="../domain-name/wallet-guide/twitter-handles.html"><strong aria-hidden="true">9.3.</strong> Twitter handles</a></li></ol></li><li class="chapter-item expanded "><a href="../domain-name/index.html"><strong aria-hidden="true">10.</strong> Domain Name</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../domain-name/domain-tld.html"><strong aria-hidden="true">10.1.</strong> TLD</a></li><li class="chapter-item expanded "><a href="../domain-name/web-resolution.html"><strong aria-hidden="true">10.2.</strong> Web resolution</a></li><li class="chapter-item expanded "><a href="../domain-name/domain-direct-lookup.html"><strong aria-hidden="true">10.3.</strong> Direct look up</a></li><li class="chapter-item expanded "><a href="../domain-name/domain-reverse-lookup.html"><strong aria-hidden="true">10.4.</strong> Reverse look up</a></li><li class="chapter-item expanded "><a href="../domain-name/domain-find-for-owner.html"><strong aria-hidden="true">10.5.</strong> Get all domains of a user</a></li><li class="chapter-item expanded "><a href="../domain-name/all-domains.html"><strong aria-hidden="true">10.6.</strong> Get all domains</a></li><li class="chapter-item expanded "><a href="../domain-name/records.html"><strong aria-hidden="true">10.7.</strong> Records</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../domain-name/records/records.html"><strong aria-hidden="true">10.7.1.</strong> Records V1</a></li><li class="chapter-item expanded "><a href="../domain-name/records/records-v2.html"><strong aria-hidden="true">10.7.2.</strong> Records V2</a></li></ol></li><li class="chapter-item expanded "><a href="../domain-name/edit-domain-content.html"><strong aria-hidden="true">10.8.</strong> Edit domain content</a></li><li class="chapter-item expanded "><a href="../domain-name/transfer.html"><strong aria-hidden="true">10.9.</strong> Transfer domains</a></li><li class="chapter-item expanded "><a href="../domain-name/primary-domain.html"><strong aria-hidden="true">10.10.</strong> Primary domain</a></li><li class="chapter-item expanded "><a href="../domain-name/react-hooks/index.html"><strong aria-hidden="true">10.11.</strong> React hooks</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../domain-name/react-hooks/use-domains.html"><strong aria-hidden="true">10.11.1.</strong> useDomains</a></li><li class="chapter-item expanded "><a href="../domain-name/react-hooks/use-domain-records.html"><strong aria-hidden="true">10.11.2.</strong> useRecords</a></li><li class="chapter-item expanded "><a href="../domain-name/react-hooks/use-records-V2.html"><strong aria-hidden="true">10.11.3.</strong> useRecordsV2</a></li><li class="chapter-item expanded "><a href="../domain-name/react-hooks/use-domains-for-user.html"><strong aria-hidden="true">10.11.4.</strong> useDomainsForUser</a></li><li class="chapter-item expanded "><a href="../domain-name/react-hooks/use-primary-domain.html"><strong aria-hidden="true">10.11.5.</strong> usePrimaryDomain</a></li><li class="chapter-item expanded "><a href="../domain-name/react-hooks/use-profile-pic.html"><strong aria-hidden="true">10.11.6.</strong> useProfilePic</a></li></ol></li><li class="chapter-item expanded "><a href="../domain-name/vue.html"><strong aria-hidden="true">10.12.</strong> Vue SDK</a></li><li class="chapter-item expanded "><a href="../domain-name/tokenization.html"><strong aria-hidden="true">10.13.</strong> Tokenization</a></li><li class="chapter-item expanded "><a href="../domain-name/registration.html" class="active"><strong aria-hidden="true">10.14.</strong> Registration</a></li><li class="chapter-item expanded "><a href="../domain-name/media-kit.html"><strong aria-hidden="true">10.15.</strong> Media kit</a></li><li class="chapter-item expanded "><a href="../domain-name/delete-domain.html"><strong aria-hidden="true">10.16.</strong> Delete domains</a></li><li class="chapter-item expanded "><a href="../domain-name/subdomains/index.html"><strong aria-hidden="true">10.17.</strong> Subdomains</a></li><li class="chapter-item expanded "><a href="../domain-name/devnet.html"><strong aria-hidden="true">10.18.</strong> Devnet</a></li><li class="chapter-item expanded "><a href="../domain-name/sns-examples/index.html"><strong aria-hidden="true">10.19.</strong> Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../domain-name/sns-examples/derivations.html"><strong aria-hidden="true">10.19.1.</strong> Key derivations</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../twitter/index.html"><strong aria-hidden="true">11.</strong> Twitter</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../twitter/twitter-tld.html"><strong aria-hidden="true">11.1.</strong> TLD</a></li><li class="chapter-item expanded "><a href="../twitter/register.html"><strong aria-hidden="true">11.2.</strong> Registration</a></li><li class="chapter-item expanded "><a href="../twitter/twitter-direct-lookup.html"><strong aria-hidden="true">11.3.</strong> Direct look up</a></li><li class="chapter-item expanded "><a href="../twitter/twitter-reverse-lookup.html"><strong aria-hidden="true">11.4.</strong> Reverse look up</a></li></ol></li><li class="chapter-item expanded "><a href="../sns-api/index.html"><strong aria-hidden="true">12.</strong> SNS API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../sns-api/domains.html"><strong aria-hidden="true">12.1.</strong> Domains</a></li><li class="chapter-item expanded "><a href="../sns-api/categories.html"><strong aria-hidden="true">12.2.</strong> Categories</a></li><li class="chapter-item expanded "><a href="../sns-api/users.html"><strong aria-hidden="true">12.3.</strong> Users</a></li><li class="chapter-item expanded "><a href="../sns-api/listings.html"><strong aria-hidden="true">12.4.</strong> Listings</a></li><li class="chapter-item expanded "><a href="../sns-api/sales.html"><strong aria-hidden="true">12.5.</strong> Sales</a></li><li class="chapter-item expanded "><a href="../sns-api/volumes.html"><strong aria-hidden="true">12.6.</strong> Volumes</a></li><li class="chapter-item expanded "><a href="../sns-api/owners.html"><strong aria-hidden="true">12.7.</strong> Owners</a></li><li class="chapter-item expanded "><a href="../sns-api/images.html"><strong aria-hidden="true">12.8.</strong> Images</a></li></ol></li><li class="chapter-item expanded "><a href="../marketplace.html"><strong aria-hidden="true">13.</strong> Marketplace</a></li><li class="chapter-item expanded "><a href="../sns-suggest/index.html"><strong aria-hidden="true">14.</strong> SNS Suggest API - Alpha</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../sns-suggest/current-owner.html"><strong aria-hidden="true">14.1.</strong> Current Owner</a></li></ol></li><li class="chapter-item expanded "><a href="../sns-quicknode/index.html"><strong aria-hidden="true">15.</strong> SNS Quicknode API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../sns-quicknode/sns_getAllDomainsForOwner.html"><strong aria-hidden="true">15.1.</strong> sns_getAllDomainsForOwner</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_getDomainData.html"><strong aria-hidden="true">15.2.</strong> sns_getDomainData</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_getDomainKey.html"><strong aria-hidden="true">15.3.</strong> sns_getDomainKey</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_getDomainRecordKey.html"><strong aria-hidden="true">15.4.</strong> sns_getDomainRecordKey</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_getFavouriteDomain.html"><strong aria-hidden="true">15.5.</strong> sns_getFavouriteDomain</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_getRegistrationTransaction.html"><strong aria-hidden="true">15.6.</strong> sns_getRegistrationTransaction</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_getSubdomains.html"><strong aria-hidden="true">15.7.</strong> sns_getSubdomains</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_getSupportedRecords.html"><strong aria-hidden="true">15.8.</strong> sns_getSupportedRecords</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_resolveDomain.html"><strong aria-hidden="true">15.9.</strong> sns_resolveDomain</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_reverseLookup.html"><strong aria-hidden="true">15.10.</strong> sns_reverseLookup</a></li><li class="chapter-item expanded "><a href="../sns-quicknode/sns_getDomainReverseKey.html"><strong aria-hidden="true">15.11.</strong> sns_getDomainReverseKey</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Solana Name Service Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="registration"><a class="header" href="#registration">Registration</a></h1>
<blockquote>
<p><strong>Deprecated:</strong> The <code>registerDomainName</code> function is being deprecated as it relies on the older Pyth smart contract on Solana, which is scheduled to be sunsetted at the end of May 2024. Please transition to using <code>registerDomainNameV2</code> for future domain registrations.</p>
</blockquote>
<p>Easily integrate SNS domain registrations into your applications using our SNS Widget React Component. See a default usage example below. You can also customize the widget to fit your unique needs. More information is available here: https://github.com/Bonfida/sns-widget/blob/main/README.md</p>
<pre><code class="language-js">import Widget from &quot;@bonfida/sns-widget&quot;;
// Apart from the component itself, you also need to import styles separately
import &quot;@bonfida/sns-widget/style.css&quot;;

// Link to public RPC for Solana connection. Solana provides free public RPCs
// with rate limiters, so you might want to use your own RPC Node provider
const PUBLIC_RPC = &quot;https://api.mainnet-beta.solana.com&quot;;

export const Component = () =&gt; {
  return &lt;Widget endpoint={PUBLIC_RPC} /&gt;;
};
</code></pre>
<p>You can also opt to create registration instructions via our SDK or API, both methods are equivalent. To register a domain you will have to specify the following:</p>
<ul>
<li>Domain names</li>
<li>Space (between 1kb and 10kb)</li>
<li>The public key of the buyer</li>
</ul>
<p>Domain names can be registered with the following tokens: USDC, USDT, wSOL, FIDA, mSOL, BONK and BAT.</p>
<blockquote>
<p><strong>Note:</strong> The registration instruction does not support native SOL but wrapped SOL</p>
</blockquote>
<h2 id="asset-pricing"><a class="header" href="#asset-pricing">Asset pricing</a></h2>
<p align="center">
<a href="https://pyth.network/" target="_blank">
<img src="../assets/partner-logos/pyth-logo.svg" alt="Pyth Network" width="200" height="auto"/>
</a>
</p>
<p>Token pricing data during domain registration is provided to us by our friends at Pyth Network. Learn more about their Blockchain Oracle at <a href="https://pyth.network/">Pyth Network</a>.</p>
<h2 id="sdk"><a class="header" href="#sdk">SDK</a></h2>
<p>Unregistered domains can be registered using the SDK <code>@bonfida/spl-name-service</code> with the following instructions:</p>
<pre><code class="language-js">import { registerDomainNameV2 } from &quot;@bonfida/spl-name-service&quot;;

const name = &quot;bonfida&quot;; // We want to register bonfida.sol
const space = 1 * 1_000; // We want a 1kB sized domain (max 10kB)

const buyer = new PublicKey(&quot;...&quot;); // Publickey of the buyer
const buyerTokenAccount = new PublicKey(&quot;...&quot;); // Publickey of the token account of the buyer (USDC)

const ix = await registerDomainNameV2(name, space, buyer, buyerTokenAccount);

// sign and send the instruction
</code></pre>
<h2 id="api"><a class="header" href="#api">API</a></h2>
<p>Registration instructions can also be created via API (equivalent to using the SDK):</p>
<pre><code>GET https://sns-sdk-proxy.bonfida.workers.dev/register?buyer={buyer}&amp;domain={domain}&amp;space={space}&amp;serialize={serialize}
</code></pre>
<p>This endpoint can be used to register domain for buyer. Additionaly, the buyer dans specify the space it wants to allocate for the domain account. In the case where serialize is true the endpoint will return the transaction serialized in the wire format base64 encoded. Otherwise it will return the instruction in the following format: <code>{ programId: string, keys: {isWritable: boolean, isSigner: boolean, pubkey: string}[], data: string }</code> where <code>data</code> is base64 encoded.</p>
<p>This endpoint also supports the optional mint parameter to change the mint of the token used for registration (currently supports USDC, USDT, FIDA and wSOL), if mint is omitted it defaults to USDC.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../domain-name/tokenization.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../domain-name/media-kit.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../domain-name/tokenization.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../domain-name/media-kit.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
