<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Subdomains - Solana Name Service Guide</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../deployment.html"><strong aria-hidden="true">2.</strong> Deployment</a></li><li class="chapter-item expanded "><a href="../../sns-ip/index.html"><strong aria-hidden="true">3.</strong> SNS IP</a></li><li class="chapter-item expanded "><a href="../../videos.html"><strong aria-hidden="true">4.</strong> Videos</a></li><li class="chapter-item expanded "><a href="../../installation.html"><strong aria-hidden="true">5.</strong> SNS Library</a></li><li class="chapter-item expanded "><a href="../../siwsns/index.html"><strong aria-hidden="true">6.</strong> SIWSNS</a></li><li class="chapter-item expanded "><a href="../../faq.html"><strong aria-hidden="true">7.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../../registry.html"><strong aria-hidden="true">8.</strong> Name Registry</a></li><li class="chapter-item expanded "><a href="../../domain-name/wallet-guide/index.html"><strong aria-hidden="true">9.</strong> Wallet Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../domain-name/wallet-guide/resolving-domains.html"><strong aria-hidden="true">9.1.</strong> Resolving Domains</a></li><li class="chapter-item expanded "><a href="../../domain-name/wallet-guide/bridged-domains.html"><strong aria-hidden="true">9.2.</strong> Bridged Domains</a></li><li class="chapter-item expanded "><a href="../../domain-name/wallet-guide/twitter-handles.html"><strong aria-hidden="true">9.3.</strong> Twitter handles</a></li></ol></li><li class="chapter-item expanded "><a href="../../domain-name/index.html"><strong aria-hidden="true">10.</strong> Domain Name</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../domain-name/domain-tld.html"><strong aria-hidden="true">10.1.</strong> TLD</a></li><li class="chapter-item expanded "><a href="../../domain-name/web-resolution.html"><strong aria-hidden="true">10.2.</strong> Web resolution</a></li><li class="chapter-item expanded "><a href="../../domain-name/domain-direct-lookup.html"><strong aria-hidden="true">10.3.</strong> Direct look up</a></li><li class="chapter-item expanded "><a href="../../domain-name/domain-reverse-lookup.html"><strong aria-hidden="true">10.4.</strong> Reverse look up</a></li><li class="chapter-item expanded "><a href="../../domain-name/domain-find-for-owner.html"><strong aria-hidden="true">10.5.</strong> Get all domains of a user</a></li><li class="chapter-item expanded "><a href="../../domain-name/all-domains.html"><strong aria-hidden="true">10.6.</strong> Get all domains</a></li><li class="chapter-item expanded "><a href="../../domain-name/records.html"><strong aria-hidden="true">10.7.</strong> Records</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../domain-name/records/records.html"><strong aria-hidden="true">10.7.1.</strong> Records V1</a></li><li class="chapter-item expanded "><a href="../../domain-name/records/records-v2.html"><strong aria-hidden="true">10.7.2.</strong> Records V2</a></li></ol></li><li class="chapter-item expanded "><a href="../../domain-name/edit-domain-content.html"><strong aria-hidden="true">10.8.</strong> Edit domain content</a></li><li class="chapter-item expanded "><a href="../../domain-name/transfer.html"><strong aria-hidden="true">10.9.</strong> Transfer domains</a></li><li class="chapter-item expanded "><a href="../../domain-name/favorite-domain.html"><strong aria-hidden="true">10.10.</strong> Favorite domain</a></li><li class="chapter-item expanded "><a href="../../domain-name/react-hooks/index.html"><strong aria-hidden="true">10.11.</strong> React hooks</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../domain-name/react-hooks/use-domains.html"><strong aria-hidden="true">10.11.1.</strong> useDomains</a></li><li class="chapter-item expanded "><a href="../../domain-name/react-hooks/use-domain-records.html"><strong aria-hidden="true">10.11.2.</strong> useDomainRecords</a></li><li class="chapter-item expanded "><a href="../../domain-name/react-hooks/use-domains-for-user.html"><strong aria-hidden="true">10.11.3.</strong> useDomainsForUser</a></li><li class="chapter-item expanded "><a href="../../domain-name/react-hooks/use-favorite-domain.html"><strong aria-hidden="true">10.11.4.</strong> useFavoriteDomain</a></li><li class="chapter-item expanded "><a href="../../domain-name/react-hooks/use-profile-pic.html"><strong aria-hidden="true">10.11.5.</strong> useProfilePic</a></li></ol></li><li class="chapter-item expanded "><a href="../../domain-name/vue.html"><strong aria-hidden="true">10.12.</strong> Vue SDK</a></li><li class="chapter-item expanded "><a href="../../domain-name/tokenization.html"><strong aria-hidden="true">10.13.</strong> Tokenization</a></li><li class="chapter-item expanded "><a href="../../domain-name/registration.html"><strong aria-hidden="true">10.14.</strong> Registration</a></li><li class="chapter-item expanded "><a href="../../domain-name/media-kit.html"><strong aria-hidden="true">10.15.</strong> Media kit</a></li><li class="chapter-item expanded "><a href="../../domain-name/delete-domain.html"><strong aria-hidden="true">10.16.</strong> Delete domains</a></li><li class="chapter-item expanded "><a href="../../domain-name/subdomains/index.html" class="active"><strong aria-hidden="true">10.17.</strong> Subdomains</a></li><li class="chapter-item expanded "><a href="../../domain-name/devnet.html"><strong aria-hidden="true">10.18.</strong> Devnet</a></li><li class="chapter-item expanded "><a href="../../domain-name/sns-examples/index.html"><strong aria-hidden="true">10.19.</strong> Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../domain-name/sns-examples/derivations.html"><strong aria-hidden="true">10.19.1.</strong> Key derivations</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../twitter/index.html"><strong aria-hidden="true">11.</strong> Twitter</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../twitter/twitter-tld.html"><strong aria-hidden="true">11.1.</strong> TLD</a></li><li class="chapter-item expanded "><a href="../../twitter/register.html"><strong aria-hidden="true">11.2.</strong> Registration</a></li><li class="chapter-item expanded "><a href="../../twitter/twitter-direct-lookup.html"><strong aria-hidden="true">11.3.</strong> Direct look up</a></li><li class="chapter-item expanded "><a href="../../twitter/twitter-reverse-lookup.html"><strong aria-hidden="true">11.4.</strong> Reverse look up</a></li></ol></li><li class="chapter-item expanded "><a href="../../sns-api/index.html"><strong aria-hidden="true">12.</strong> SNS API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../sns-api/categories.html"><strong aria-hidden="true">12.1.</strong> Categories</a></li><li class="chapter-item expanded "><a href="../../sns-api/sales.html"><strong aria-hidden="true">12.2.</strong> Sales</a></li><li class="chapter-item expanded "><a href="../../sns-api/volumes.html"><strong aria-hidden="true">12.3.</strong> Volumes</a></li><li class="chapter-item expanded "><a href="../../sns-api/owners.html"><strong aria-hidden="true">12.4.</strong> Owners</a></li></ol></li><li class="chapter-item expanded "><a href="../../sns-suggest/index.html"><strong aria-hidden="true">13.</strong> SNS Suggest API - Alpha</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../sns-suggest/current-owner.html"><strong aria-hidden="true">13.1.</strong> Current Owner</a></li></ol></li><li class="chapter-item expanded "><a href="../../sns-quicknode/index.html"><strong aria-hidden="true">14.</strong> SNS Quicknode API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_getAllDomainsForOwner.html"><strong aria-hidden="true">14.1.</strong> sns_getAllDomainsForOwner</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_getDomainData.html"><strong aria-hidden="true">14.2.</strong> sns_getDomainData</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_getDomainKey.html"><strong aria-hidden="true">14.3.</strong> sns_getDomainKey</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_getDomainRecordKey.html"><strong aria-hidden="true">14.4.</strong> sns_getDomainRecordKey</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_getFavouriteDomain.html"><strong aria-hidden="true">14.5.</strong> sns_getFavouriteDomain</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_getRegistrationTransaction.html"><strong aria-hidden="true">14.6.</strong> sns_getRegistrationTransaction</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_getSubdomains.html"><strong aria-hidden="true">14.7.</strong> sns_getSubdomains</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_getSupportedRecords.html"><strong aria-hidden="true">14.8.</strong> sns_getSupportedRecords</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_resolveDomain.html"><strong aria-hidden="true">14.9.</strong> sns_resolveDomain</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_reverseLookup.html"><strong aria-hidden="true">14.10.</strong> sns_reverseLookup</a></li><li class="chapter-item expanded "><a href="../../sns-quicknode/sns_getDomainReverseKey.html"><strong aria-hidden="true">14.11.</strong> sns_getDomainReverseKey</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Solana Name Service Guide</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="subdomains"><a class="header" href="#subdomains">Subdomains</a></h1>
<p>Subdomains in Solana Name Service (SNS) are similar to <code>.sol</code> domains but have a different parent. They can be considered as normal domains but from a different Top-Level Domain (TLD). For instance, <code>something.example.sol</code> can be considered the something subdomain of <code>example.sol</code> or a domain from the TLD <code>example.sol</code>.</p>
<h2 id="key-characteristics-of-subdomains"><a class="header" href="#key-characteristics-of-subdomains">Key Characteristics of Subdomains</a></h2>
<ul>
<li>
<p><strong>Parent Ownership:</strong> The owner of the parent domain retains the ability to transfer subdomains without the signature from the owner of the subdomains. This is a unique feature of subdomains in SNS.</p>
</li>
<li>
<p><strong>Limited Wallet Support:</strong> Subdomains have limited wallet support. This means that not all wallets may support transactions involving subdomains.</p>
</li>
<li>
<p><strong>Feature Support:</strong> Subdomains support the same features as main domains. This includes the ability to transfer and update data.</p>
</li>
</ul>
<h2 id="creating-a-subdomain"><a class="header" href="#creating-a-subdomain">Creating a subdomain</a></h2>
<p>This code snippet creates a subdomain and its reverse lookup account:</p>
<pre><code class="language-js">import { createSubdomain } from &quot;@bonfida/spl-name-service&quot;;

// The subdomain to create with or without .sol e.g something.bonfida.sol or something.bonfida
const subdomain = &quot;something.bonfida.sol&quot;;

// The owner of the parent domain
const owner = new PublicKey(&quot;...&quot;);

const ix = createSubdomain(connection, subdomain, owner);

// Sign and send the tx...
</code></pre>
<p>The created subdomains will initially be owned by the parent owner. A subdomain can be created and transfered inside the same transaction.</p>
<h2 id="transferring-a-subdomain"><a class="header" href="#transferring-a-subdomain">Transferring a Subdomain</a></h2>
<p>Subdomains can be transferred using the <code>transferSubdomain</code> instruction. Here is an example of how the subdomain owner can transfer a subdomain:</p>
<pre><code class="language-js">import { transferSubdomain } from &quot;@bonfida/spl-name-service&quot;;

// ..

// Subdomains to transfer
const subdomain = &quot;something.bonfida.sol&quot;;

// New owner of the domain
const newOwner = new PublicKey(&quot;...&quot;);

// Whether the parent name owner is signing the transfer
const isParentSigner = false;

const ix = await transferSubdomain(
  connection,
  subdomain,
  newOwner,
  isParentSigner
);

// sign and send instruction
</code></pre>
<p>The parent name owner can trigger a transfer by setting the <code>isParentSigner</code> flag to <code>true</code> and signing the transaction.</p>
<h2 id="resolving-subdomains"><a class="header" href="#resolving-subdomains">Resolving Subdomains</a></h2>
<p>Subdomains of a <code>.sol</code> domain can be resolved using the <code>findSubdomains</code> function. Here is an example of how to resolve subdomains:</p>
<pre><code class="language-js">import { findSubdomains } from &quot;@bonfida/spl-name-service&quot;;

// Public key of bonfida.sol
const parentKey = new PublicKey(&quot;Crf8hzfthWGbGbLTVCiqRqV5MVnbpHB1L9KQMd6gsinb&quot;);

// Assuming that bonfida.sol has the following subdomains
// - sub_1.bonfida.sol
// - sub_2.bonfida.sol

const subdomains: string[] = await findSubdomains(connection, parentKey); // [sub_1, sub_2]
</code></pre>
<h2 id="deleting-a-subdomain"><a class="header" href="#deleting-a-subdomain">Deleting a Subdomain</a></h2>
<p>Subdomains can be deleted using the <code>deleteInstruction</code> function. Here is an example of how to delete a subdomain:</p>
<pre><code class="language-js">import { Keypair, clusterApiUrl } from &quot;@solana/web3.js&quot;;
import {
  getDomainKey,
  NAME_PROGRAM_ID,
  deleteInstruction,
} from &quot;@bonfida/spl-name-service&quot;;
import { signAndSendInstructions } from &quot;@bonfida/utils&quot;;

// dex.bonfida.sol
const domain = &quot;dex.bonfida.sol&quot;; // With or without .sol

const wallet = Keypair.fromSecretKey(...);

const deleteSubDomain = async () =&gt; {
  const { pubkey } = await getDomainKey(domain);

  const ix = deleteInstruction(
    NAME_PROGRAM_ID,
    pubkey,
    wallet.publicKey,
    wallet.publicKey
  );

  const tx = await signAndSendInstructions(connection, [], wallet, [ix]);

  console.log(`Deleted subdomain ${tx}`);
};

deleteSubDomain();
</code></pre>
<blockquote>
<p>ðŸ’¡ While the deletion of a subdomain is a reversible action, it's important to be mindful of potential unintended consequences.</p>
</blockquote>
<p>In conclusion, subdomains in SNS are a powerful feature that allows for more granular control and organization of domain names. However, they come with their own set of considerations such as limited wallet support and different ownership rules.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../domain-name/delete-domain.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../domain-name/devnet.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../domain-name/delete-domain.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../domain-name/devnet.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
